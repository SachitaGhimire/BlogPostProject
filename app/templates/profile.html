{% extends 'base.html'%}
{%block content%}
{%load static%}
{% include 'header.html'%}
<div class="container profile">
    <div class="text-center my-3">
        <h2>Profile Page</h2>
    </div>
    {% if p %}
    <div>
        <img class="image" src="{{p.image.url}}" alt="">
    </div>
    {%else%}
    <div>
        <img class="image" src="{% static 'pic.png'%}" alt="">
    </div>

    {%endif%}
    <div class="my-4">
        <h4>Name: {{u.first_name}} {{u.last_name}}</h4>
        <h5>Username: {{u.username}}</h5>
        <h5>Email: {{u.email}}</h5>
    </div>


    {% if p%}
   <button type="button" class="btn btn-info" data-bs-toggle="modal" data-bs-target="#updateProfile">
    Update Profile
</button>
    {%else%}
<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
 Add profile
</button>
    {%endif%}

<!-- Modal -->
<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
 <form method="post" action="addProfile" enctype="multipart/form-data">
     {%csrf_token%}
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Add Profile</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
          <input type="file" name="image" class="form-control" required>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="submit" class="btn btn-primary">Save</button>
      </div>
    </div>
  </div>
 </form>
</div>
</div>


<!-- Button trigger modal -->


<!-- Modal -->
<div class="modal fade" id="updateProfile" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
 <form method="post" action="updateProfile" enctype="multipart/form-data">
     {%csrf_token%}
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="test">Update Profile</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
          <input type="file" name="image" class="form-control" required>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="submit" class="btn btn-primary">Save</button>
      </div>
    </div>
  </div>
 </form>
</div>

{%endblock%}